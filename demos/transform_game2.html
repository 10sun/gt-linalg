






<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <title>2x2 Matrix Transformations</title>

      <link rel="stylesheet" href="mathbox/mathbox.css">
      <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
  

  <style>
      
#help-text {
    # text-align: center;
# }
.mathbox-overlays {
    pointer-events: auto;
}

  </style>

  <link rel="stylesheet" href="css/demo.css">

</head>
<body>
    

        <script src="mathbox/mathbox-bundle.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.js">
        </script>
        <script src="lib/domready.js"></script>
        <script src="js/demo2.js"></script>
        <script src="lib/dat.gui.min.js"></script>
        <script src="lib/screenfull.min.js"></script>

    

    <script type="text/javascript">
        "use strict";
        DomReady.ready(function() {

        // Generated by CoffeeScript 1.12.7
var ortho, ref;

ortho = 10000;

window.matrix = [1, 0, 0, 1];

window.updateMatrix = (function(_this) {
  return function(multiplier) {
    var a, b, c, d, matrix;
    console.log("Asdfads");
    console.log(multiplier);
    matrix = window.matrix;
    a = multiplier[0] * matrix[0] + multiplier[1] * matrix[2];
    b = multiplier[0] * matrix[1] + multiplier[1] * matrix[3];
    c = multiplier[2] * matrix[0] + multiplier[3] * matrix[2];
    d = multiplier[2] * matrix[1] + multiplier[3] * matrix[3];
    console.log(a, b, c, d);
    return window.matrix = [a, b, c, d];
  };
})(this);

window.demo = new Demo2D({
  preload: {
    image: 'img/' + ((ref = urlParams.pic) != null ? ref : "theo2.jpg")
  },
  ortho: ortho,
  camera: {
    position: [1.1, 0, ortho],
    lookAt: [1.1, 0, 0]
  },
  vertical: 2.2
}, function() {
  var axisOpts, clipCube, future_matrix, gridOpts, id, inverse, matrices, matrix, numTransforms, results, view1, view2;
  window.mathbox = this.mathbox;
  matrix = [1, 0, 0, 1];
  future_matrix = matrix;
  if (this.urlParams.mat != null) {
    matrix = this.urlParams.mat.split(",").map(parseFloat);
  }
  numTransforms = 3;
  if (this.urlParams.num != null) {
    numTransforms = parseInt(this.urlParams.num);
  }
  inverse = null;
  gridOpts = {
    color: 'white',
    opacity: 0.25,
    width: 1,
    zOrder: 1,
    zIndex: 1
  };
  axisOpts = {
    color: 'white',
    opacity: 0.6,
    zIndex: 1,
    zOrder: 1,
    size: 3
  };
  view1 = this.view({
    name: 'view1',
    gridOpts: gridOpts,
    axisOpts: axisOpts,
    axisLabels: false
  });
  view1.image({
    image: this.image
  }).matrix({
    width: 2,
    height: 2,
    channels: 2,
    data: [[[-10, -10], [10, -10]], [[-10, 10], [10, 10]]]
  }).surface({
    color: 'white',
    points: '<',
    map: '<<',
    fill: true,
    zOrder: 0
  });
  view2 = this.view({
    name: 'view2',
    viewOpts: {
      position: [2.2, 0, 0]
    },
    gridOpts: gridOpts,
    axisOpts: axisOpts,
    axisLabels: false
  });
  clipCube = this.clipCube(view2, {
    draw: false,
    hilite: false,
    range: 10.0,
    pass: 'view'
  });
  clipCube.clipped.transform({}, {
    matrix: function() {
      return [window.matrix[0], window.matrix[1], 0, 0, window.matrix[2], window.matrix[3], 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
    }
  }).image({
    image: this.image
  }).matrix({
    width: 2,
    height: 2,
    channels: 2,
    data: [[[-10, -10], [10, -10]], [[-10, 10], [10, 10]]]
  }).surface({
    color: 'white',
    points: '<',
    map: '<<',
    fill: true,
    zOrder: 0
  });
  this.caption('<p id="challenge_inst"> Pick a challenge! </p>\n<ul id="challenge_list">\n    <li><button>Challenge 1</button></li>\n    <li><button>Challenge 2</button></li>\n</ul>\n<table id="button_table">\n    <tr>\n        <td><button type="button" id="scale_2">Scale horizontally by 2</button></td>\n        <td><button type="button" id="scale_half">Scale horizontally by 1/2</button></td>\n    </tr>\n    <tr>\n        <td><button type="button" id="shear_left">Shear left by 1/2</button></td>\n        <td><button type="button" id="shear_right">Shear right by 1/2</button></td>\n    </tr>\n    <tr>\n        <td><button type="button" id="shear_up">Shear up by 1/2</button></td>\n        <td><button type="button" id="shear_down">Shear down by 1/2</button></td>\n    </tr>\n    <tr>\n        <td><button type="button" id="reflect_x_axis">Reflect about the x-axis</button></td>\n        <td><button type="button">Reflect about the y-axis</button></td>\n    </tr>\n</table>\n            <p><span id="eqn-here"></span></p>\n            <p id="help-text"></p>');
  matrices = {
    'scale_2': [2, 0, 0, 1],
    'scale_half': [0.5, 0, 0, 1],
    'shear_left': [1, -0.5, 0, 1],
    'shear_right': [1, 0.5, 0, 1],
    'shear_up': [1, 0, 0.5, 1],
    'shear_down': [1, 0, -0.5, 1]
  };
  results = [];
  for (id in matrices) {
    matrix = matrices[id];
    results.push((function() {
      var button, id2;
      id2 = id;
      button = document.getElementById(id2);
      return button.addEventListener('click', function() {
        return window.updateMatrix(matrices[id2]);
      });
    })());
  }
  return results;
});


        });
    </script>
</body>
</html>

