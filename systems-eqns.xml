<?xml version="1.0" encoding="UTF-8"?>

<!--********************************************************************
Copyright 2017 Georgia Institute of Technology

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation.  A copy of
the license is included in gfdl.xml.
*********************************************************************-->

<section xml:id="systems-of-eqns">
  <title>Systems of Linear Equations</title>

  <objectives>
    <ol>
      <li>Understand the definition of <m>\R^n</m>, and what it means to use <m>\R^n</m> to label points on a geometric object.</li>
      <li>Learn to replace a system of linear equations by an augmented matrix.</li>
      <li>Learn how the elimination method corresponds to performing row operations on an augmented matrix.</li>
      <li><em>Vocabulary words:</em> <term>consistent</term>, <term>inconsistent</term>, <term>solution set</term>, <term>row operation</term>, <term>row equivalence</term>, <term>matrix</term>, <term>augmented matrix</term>.</li>
    </ol>
  </objectives>

  <introduction>
    <p>During the first half of this textbook, we will be primarily concerned with understanding the solutions of systems of linear equations.</p>

    <definition>
      <idx><h>Linear equation</h><h>definition of</h></idx>
      <statement>
        <p>An equation in the unknowns <m>x,y,z,\ldots</m> is called <term>linear</term> if both sides of the equation are a sum of (constant) multiples of <m>x,y,z,\ldots</m>, plus an optional constant.</p>
      </statement>
    </definition>

    <p>For instance,
    <me>
      \begin{split}
      3x + 4y &amp;= 2z \\
      -x - z &amp;= 100
      \end{split}
    </me>
    are linear equations, but
    <me>
      \begin{split}
      3x + yz &amp;= 3 \\
      \sin(x) - \cos(y) &amp;= 2
      \end{split}
    </me>
    are not.</p>

    <p>We will usually move the unknowns to the left side of the equation, and move the constants to the right.
    </p>

    <p>A <term>system</term> of linear equations is a collection of several linear equations, like
      <men xml:id="systems-eqns-example">
        \syseq{x + 2y + 3z = 6;
        2x - 3y + 2z = 14;
        3x + y - z = -2\rlap.
      }</men>
      <idx><h>Linear equation</h><h>system of</h><see>System of linear equations</see></idx>
      <idx><h>System of linear equations</h><h>definition of</h></idx>
    </p>

    <definition>
      <title>Solution sets</title>
      <statement>
        <p>
          <ul>
            <li>A <term>solution</term> of a system of equations is a list of numbers <m>x, y, z, \ldots</m> that make all of the equations true simultaneously.</li>
            <li>The <term>solution set</term> of a system of equations is the collection of all solutions.</li>
            <li><term>Solving</term> the system means finding all solutions with formulas involving some number of parameters.</li>
          </ul>
          <idx><h>System of linear equations</h><h>solution of</h></idx>
          <idx><h>Solution</h><see>System of linear equations</see></idx>
          <idx><h>Solution set</h><h>definition of</h></idx>
        </p>
      </statement>
    </definition>

    <p>A solution of a system of equations in <m>n</m> variables is a list of <m>n</m> numbers.  For example, <m>(x,y,z) = (1,-2,3)</m> is a solution of <xref ref="systems-eqns-example"/>.  As we will be studying solutions of systems of equations throughout this text, now is a good time to fix our notions regarding lists of numbers.</p>

  </introduction>

  <subsection xml:id="subsection-Rn">
    <title>Line, Plane, Space, Etc.</title>

    <p>
      <notation><usage>0</usage><description>The number zero</description></notation>
      We use <m>\R</m>
      <idx><h>Real numbers <m>\R</m></h></idx>
      <notation><usage>\R</usage><description>The real numbers</description></notation>
      to denote the set of all real numbers, i.e., the number
      line.  This contains numbers like <m>0, \frac 32, -\pi, 104, \ldots</m>
    </p>

    <definition>
      <idx><h>Real <m>n</m>-space</h></idx>
      <idx><h>Real <m>n</m>-space</h><h>element of</h></idx>
      <notation>
        <usage>\R^n</usage>
        <description>Real <m>n</m>-space</description>
      </notation>
      <statement>
        <p>Let <m>n</m> be a positive whole number.  We define
        <me>\R^n = \text{all ordered $n$-tuples of real numbers }(x_1,x_2,x_3,\ldots,x_n).</me>
        An <m>n</m>-tuple of real numbers is called an <term>element</term> of <m>\R^n</m>.
        </p>
      </statement>
    </definition>

    <p>In other words, <m>\R^n</m> is just the set of all (ordered) lists of <m>n</m> real numbers.  We will draw pictures of <m>\R^n</m> in a moment, but keep in mind that <em>this is the definition</em>.  For example, <m>(0, \frac 32, -\pi)</m> and <m>(1,-2,3)</m> are elements of <m>\R^3</m>.</p>

    <specialcase>
      <title>The number line</title>
      <idx><h>Real numbers <m>\R</m></h></idx>
      <idx><h>Line</h><h>number line</h></idx>
      <p>When <m>n=1</m>, we just get <m>\R</m> back: <m>\R^1=\R</m>.  Geometrically, this is the number line.
      <latex-code>
    \begin{tikzpicture}
      \draw [&lt;-&gt;, thick] (-3.5,0) -- (3.5,0);
      \foreach \x in {-3,...,3}
         \draw[thin] (\x,-.1) -- (\x,0.1) node[anchor=south] {$\x$};
    \end{tikzpicture}
      </latex-code>
      </p>

    </specialcase>

    <specialcase>
      <title>The Euclidean plane</title>
      <idx><h>Plane</h><h><m>xy</m>-plane</h></idx>
      <p>When <m>n=2</m>, we can think of <m>\R^2</m> as the <m>xy</m>-plane.  We can do so because every point on the plane can be represented by an ordered pair of real numbers, namely, its <m>x</m>- and <m>y</m>-coordinates.
      <latex-code>
        <![CDATA[
    \begin{tikzpicture}[every node/.append style={whitebg, thin border},
        every label/.append style={text=seq-blue}, scale=1]
      \draw[help lines] (-4, -4) grid (4, 4);
      \draw[->, thick] (-4,0) -- (4,0);
      \draw[->, thick] (0,-4) -- (0,4);
      \point[seq-blue, "{$(1,2)$}" above right] at (1,2);
      \point[seq-blue, "{$(0,-3)$}" above right] at (0,-3);
    \end{tikzpicture}
            ]]>
      </latex-code>
      </p>
    </specialcase>

    <specialcase>
      <title>3-Space</title>
      <idx><h>Space</h><h><m>\R^3</m></h></idx>
      <p>When <m>n=3</m>, we can think of <m>\R^3</m> as the <em>space</em> we (appear to) live in.  We can do so because every point in space can be represented by an ordered triple of real numebrs, namely, its <m>x</m>-, <m>y</m>-, and <m>z</m>-coordinates.
      <latex-code><![CDATA[
    \begin{tikzpicture}[myxyz, scale=.75,
        every label/.append style={text=seq-blue}]
      \begin{scope}[transformxy]
        \draw[help lines] (-4, -4) grid (4, 4);
      \end{scope}
      \draw[->, thick] (-4,0,0) -- (4,0,0);
      \draw[->, thick] (0,-4,0) -- (0,4,0);
      \draw[->, thick] (0,0,0) -- (0,0,4);
      \draw[thick] (0,0,-4) -- (0,0,-2);
      \draw[thick,gray] (0,0,-2) -- (0,0,0);
      \draw[thin, densely dotted] (1,-1,3) -- (1,-1,0);
      \point[seq-blue, "${(1,-1,3)}$" above] at (1,-1,3);
      \draw[thin, densely dotted] (-2,2,2) -- (-2,2,0);
      \point[seq-blue, "${(-2,2,2)}$" above] at (-2,2,2);
    \end{tikzpicture}
            ]]>
      </latex-code>
      </p>
    </specialcase>

    <p>So what is <m>\R^4</m>?  or <m>\R^5</m>?  or <m>\R^n</m>?
    These are harder to visualize, so you have to go back to the definition: <m>\R^n</m> is the set of all ordered <m>n</m>-tuples of real numbers <m>(x_1,x_2,x_3,\ldots,x_n)</m>.</p>

    <p>They are still <q>geometric</q> spaces, in the sense that our intuition for <m>\R^2</m> and <m>\R^3</m> often extends to <m>\R^n</m>.</p>

    <p>We will make definitions and state theorems that apply to any <m>\R^n</m>, but we will only draw pictures for <m>\R^2</m> and <m>\R^3</m>.</p>

    <p>The power of using these spaces is the ability to <em>label</em> various objects of interest, such as geometric objects and solutions of systems of equations, by the elements of <m>\R^n</m>.</p>

    <example>
      <title>Color Space</title>
      <idx><h>Space</h><h>color space</h></idx>
      <idx><h>Color space</h></idx>
      <p>All colors you can see can be described by three quantities: the amount of red, green, and blue light in that color.  (Humans are <url href="https://en.wikipedia.org/wiki/Trichromacy">trichromatic</url>.)  Therefore, we can use the elements of <m>\R^3</m> to <em>label</em> all colors: for instance, the point <m>(.2, .4, .9)</m> labels the color with <m>20\%</m> red, <m>40\%</m> green, and <m>90\%</m> blue intensity.
      <latex-code><![CDATA[
\begin{tikzpicture}[x={(1cm,0cm)}, y={(-.5cm,-.3cm)}, z={(0cm,1cm)}, scale=1,
    every node/.append style={transform shape}]
  \def\divisions{10}

  \def\colorsquare{
    \foreach \x in {0,...,\divisions} {
      \pgfmathtruncatemacro{\px}{\x*100/\divisions}
      \colorlet{B}[HTML]{BR!\px!BL}
      \colorlet{T}[HTML]{TR!\px!TL}
      \foreach \y in {0,...,\divisions} {
        \pgfmathtruncatemacro{\py}{\y*100/\divisions}
        \fill[T!\py!B, resetxy]
          ({(\x+.025)/(\divisions+1)},{(\y+.025)/(\divisions+1)})
          rectangle
          ({(\x+.975)/(\divisions+1)},{(\y+.975)/(\divisions+1)});
      }
    }
  }

  \begin{scope}[scale=5]
    \transformxy[1]
    \definecolor{BL}{HTML}{0000FF}
    \definecolor{BR}{HTML}{FF00FF}
    \definecolor{TL}{HTML}{00FFFF}
    \definecolor{TR}{HTML}{FFFFFF}
    \colorsquare
  \end{scope}

  \begin{scope}[scale=5]
    \transformxz[1]
    \definecolor{BL}{HTML}{00FF00}
    \definecolor{BR}{HTML}{FFFF00}
    \definecolor{TL}{HTML}{00FFFF}
    \definecolor{TR}{HTML}{FFFFFF}
    \colorsquare
    \draw[->, thick, resetxy] (0,-.1) -- (1,-.1)
      node[midway,below,scale=.2] {red};
    \draw[->, thick, resetxy] (-.1,0) -- (-.1,1)
      node[midway,above,scale=.2,rotate=90] {blue};
  \end{scope}

  \begin{scope}[scale=5]
    \transformyz[1]
    \definecolor{BL}{HTML}{FF0000}
    \definecolor{BR}{HTML}{FFFF00}
    \definecolor{TL}{HTML}{FF00FF}
    \definecolor{TR}{HTML}{FFFFFF}
    \draw[->, thick, resetxy] (-.1,-.1) -- (.9,-.1)
      node[midway,below,scale=.2,xscale=-1] {green};
    \colorsquare
  \end{scope}

\end{tikzpicture}
]]>
      </latex-code>
      </p>
    </example>

    <example xml:id="systems-eqns-R4">
      <title>Traffic Flow</title>
      <p>In <xref ref="overview" />, we could have used <m>\R^4</m> to <em>label</em> the amount of traffic <m>(x,y,z,w)</m> passing through four streets.  In other words, if there are <m>10,5,3,11</m> cars per hour passing through roads <m>x,y,z,w</m>, respectively, then this can be recorded by the point <m>(10,5,3,11)</m> in <m>\R^4</m>.  This is useful from a psychological standpoint: instead of having four numbers, we are now dealing with just <em>one</em> piece of data.
      <latex-code>
      <![CDATA[
\tikzset{
  mid arrow/.style={
    postaction={
      decoration={
        markings,
        mark=at position #1 with {\arrow{Stealth[scale=1.25]}},
      },
      decorate
    },
  },
  rmid arrow/.style={
    postaction={
      decoration={
        markings,
        mark=at position #1 with {\arrowreversed{Stealth[scale=1.25]}},
      },
      decorate
    }
  },
  mid arrow/.default={0.5},
  rmid arrow/.default={0.5},
}

  \begin{tikzpicture}[scale=1, thick,
      every node/.style={inner sep=3pt, label distance=1mm}]
    \point[scale=1.5] (A) at (-1,1);
    \point[scale=1.5] (B) at (1,1);
    \point[scale=1.5] (C) at (1,-1);
    \point[scale=1.5] (D) at (-1,-1);
    \draw[mid arrow] (A.center) to["$x$"] (B.center);
    \draw[mid arrow] (B.center) to["$y$"] (C.center);
    \draw[mid arrow] (C.center) to["$z$"] (D.center);
    \draw[mid arrow] (D.center) to["$w$"] (A.center);
    \draw[rmid arrow=.3] (A.center) to +(-1,0);
    \draw[mid arrow=.7] (A.center) to +(0,1);
    \draw[mid arrow=.7] (B.center) to +(1,0);
    \draw[rmid arrow=.3] (B.center) to +(0,1);
    \draw[rmid arrow=.3] (C.center) to +(1,0);
    \draw[mid arrow=.7] (C.center) to +(0,-1);
    \draw[mid arrow=.7] (D.center) to +(-1,0);
    \draw[rmid arrow=.3] (D.center) to +(0,-1);
  \end{tikzpicture}
            ]]>
      </latex-code>
      </p>
    </example>

    <example>
      <title>QR Codes</title>
      <idx><h>QR codes</h></idx>
      <p>
        A <url href="https://en.wikipedia.org/wiki/QR_code">QR code</url> is a method of storing data in a grid of <m>29\times 29</m> black and white squares in a way that computers can easily read.  When an imaging device sees a QR code, it constructs an array of <m>29\times 29</m> points.  Of course, a camera actually sees varying degrees of grey; the brightness of each point is just a real number, so the image can be viewed as an element of <m>\R^{29\cdot 29} = \R^{841}.</m>  The QR reader then must find the closest point in <m>\R^{841}</m> with coordinates all equal to zero (black) or one (white); this is the actual QR code.
      </p>
      <p>As in the previous <xref ref="systems-eqns-R4"/>, it is very useful from a psychological perspective to view a QR code as a <em>single</em> piece of data in this way.</p>
      <figure>
        <caption>The QR code for this textbook is a <m>29\times29</m> array of black/white squares.</caption>
        <image source="static/images/qrcode.png" width="50%"/>
      </figure>
    </example>

    <p>In the above examples, it was useful from a psychological perspective to replace a list of four numbers (representing traffic flow) or of 841 numbers (representing a QR code) by a single piece of data in some <m>\R^n.</m>  This is a powerful concept;   starting in <xref ref="spans"/>, we will almost exclusively record solutions of systems of linear equations in this way.</p>
  </subsection>


  <subsection>
    <title>Pictures of Solution Sets</title>
    <idx><h>Solution set</h><h>picture of</h></idx>

    <p>Before discussing how to solve a system of linear equations below, it is helpful to see some pictures of what these solution sets look like geometrically.</p>

    <specialcase hide-type="true">
      <title>One Equation in Two Variables</title>
      <idx><h>Implicit equation</h></idx>
      <idx><h>Parametric form</h></idx>

      <p>
        Consider the linear equation <m>x+y=1</m>.  We can rewrite this as <m>y = 1-x</m>, which defines a line in the plane: the slope is <m>-1</m>, and the <m>x</m>-intercept is <m>1</m>.
        <latex-code>
          <![CDATA[
  \begin{tikzpicture}
    \draw[grid lines] (-2,-2) grid (2,2);
    \draw[->] (-2,0) -- (2,0);
    \draw[->] (0,-2) -- (0,2);
    \draw[{Stealth}-{Stealth}, seq-violet, thick] (-1,2) -- (2,-1);
  \end{tikzpicture}
          ]]>
        </latex-code>
        The equation <m>x+y=1</m> is called an <term>implicit equation</term> of the line.  We can write the same line in <term>parametric form</term> as follows:
        <me>(x, y) = (t,\, 1-t) \sptxt{for any} t \in \R.</me>
        This means that every point on the line has the form <m>(t,\, 1-t)</m> for some real number <m>t</m>.  In this case, we call <m>t</m> a <term>parameter</term>, as it <em>parameterizes</em> the points on the line.
        <latex-code>
          <![CDATA[
  \begin{tikzpicture}[every label/.style={font=\small, thin border}]
    \draw[grid lines] (-3,-3) grid (3,3);
    \draw[->] (-3,0) -- (3,0);
    \draw[->] (0,-3) -- (0,3);
    \draw[{Stealth}-{Stealth}, seq-violet, thick] (-2,3) -- (3,-2);
    \point["$t=0$" above right] at (0,1);
    \point["$t=1$" above right] at (1,0);
    \point["$t=-1$" below left] at (-1,2);
  \end{tikzpicture}
          ]]>
        </latex-code>
      </p>
      <p>
        Note that the parameter <m>t</m> allows us to use <m>\R</m> to <em>label</em> the points on the line.  However, this line is <em>not</em> the same as the number line <m>\R</m>: indeed, every point on this line has two coordinates, like the point <m>(0,1)</m>.
      </p>
    </specialcase>

    <definition xml:id="defn-lines">
      <title>Lines</title>
      <idx><h>Line</h><h>geometric definition of</h></idx>
      <statement>
        <p>For our purposes, a <term>line</term> is a ray that is <em>straight</em> and <em>infinite</em> in both directions.</p>
      </statement>
    </definition>

    <specialcase hide-type="true">
      <title>One Equation in Three Variables</title>
      <idx><h>Implicit equation</h></idx>
      <idx><h>Parametric form</h></idx>

      <p>
        Consider the linear equation <m>x+y+z=1</m>.  This is the <term>implicit equation</term> for a plane in space.
        <latex-code>
          <![CDATA[
  \begin{tikzpicture}[myxyz, scale=0.75]
    \draw[densely dotted] (0,0,0) -- (1,0,0);
    \draw[densely dotted] (0,0,0) -- (0,1,0);
    \draw[densely dotted] (0,0,0) -- (0,0,1);
    \begin{scope}[x={(-1,0,1)}, y={(0,-1,1)}, transformxy=1]
      \fill[help lines, seq-violet!50, fill opacity=.7] (-2.5, -2.5) rectangle (2, 2);
      \draw[help lines, seq-violet!50] (-2.5, -2.5) grid (2, 2);
    \end{scope}
    \draw[->] (1,0,0) -- (3,0,0) node[below left] {$x$};
    \draw[->] (0,1,0) -- (0,3,0) node[right] {$y$};
    \draw[->] (0,0,1) -- (0,0,3) node[above] {$z$};
  \end{tikzpicture}
          ]]>
        </latex-code>
        This plane also has a <term>parametric form</term>: we can write every point on the plane as
        <me>(x,\, y,\, z) = (1-t-w,\, t,\, w) \sptxt{for any} t,w\in\R.</me>
        In this case, we need two <term>parameters</term> <m>t</m> and <m>w</m> to describe all points on the plane.
      </p>
      <figure>
        <caption>The plane in <m>\R^3</m> defined by the equation <m>x+y+z=1</m>.  This plane is parameterized by two numbers <m>t,w</m>; move the sliders to change the parameterized point.</caption>
        <mathbox source="demos/plane.html?coeffs=t,w&amp;range=5" height="400px"/>
      </figure>
      <p>
        Note that the parameters <m>t,w</m> allow us to use <m>\R^2</m> to <em>label</em> the points on the plane.  However, this plane is <em>not</em> the same as the plane <m>\R^2</m>: indeed, every point on this plane has three coordinates, like the point <m>(0,0,1)</m>.
      </p>
    </specialcase>

    <definition>
      <title>Planes</title>
      <idx><h>Plane</h><h>geometric definition of</h></idx>
      <statement>
        <p>A <term>plane</term> is a flat sheet that is infinite in all directions.
        </p>
      </statement>
    </definition>

    <remark>
      <p>
        The equation <m>x+y+z+w=1</m> defines a <q><m>3</m>-plane</q> in <m>4</m>-space, and more generally, a single linear equation in <m>n</m> variables defines an <q><m>(n-1)</m>-plane</q> in <m>n</m>-space.  We will make these statements precise in <xref ref="dimension"/>.
      </p>
    </remark>

    <specialcase hide-type="true">
      <title>Two Equations in Two Variables</title>

      <p>
        Now consider the system of two linear equations
        <me>\def\r{\color{seq-violet}}\def\b{\color{seq-green}}
        \syseq{\r x \r- \r3y \r= \r-3; \b2x \b+ \b y \b= \b8\rlap.}</me>
        Each equation individually defines a line in the plane, pictured below.
        <latex-code>
          <![CDATA[
  \begin{tikzpicture}[scale=.2]
    \draw[grid lines] (-20,-20) rectangle (20,20);
    \clip (-20,-20) rectangle (20,20);
    \draw[->] (-20,0) -- (20,0);
    \draw[->] (0,-20) -- (0,20);
    \draw[seq-violet, thick] (-20,-20/3+1) -- (20,20/3+1);
    \draw[seq-green, thick] (-20,40+8) -- (20,-40+8);
    \point at (3,2);
  \end{tikzpicture}
          ]]>
        </latex-code>
        A solution to the <em>system</em> of both equations is a pair of numbers <m>(x,y)</m> that makes both equations true at once.  In other words, it as a point that lies on both lines simultaneously.  We can see in the picture above that there is only one point where the lines intersect: therefore, this system has exactly one solution.  (This solution is <m>(3,2)</m>, as the reader can verify.)
      </p>

      <p>
        Usually, two lines in the plane will intersect in one point, but of course this is not always the case.  Consider now the system of equations
        <me>\def\r{\color{seq-violet}}\def\b{\color{seq-green}}
        \syseq{\r x \r- \r3y \r= \r-3; \b x \b- \b3y \b= \b3\rlap.}</me>
        These define <em>parallel</em> lines in the plane.
        <latex-code>
          <![CDATA[
  \begin{tikzpicture}[scale=.2]
    \draw[grid lines] (-20,-20) rectangle (20,20);
    \clip (-20,-20) rectangle (20,20);
    \draw[->] (-20,0) -- (20,0);
    \draw[->] (0,-20) -- (0,20);
    \draw[seq-violet, thick] (-20,-20/3+1) -- (20,20/3+1);
    \draw[seq-green, thick] (-20,-20/3-1) -- (20,20/3-1);
  \end{tikzpicture}
          ]]>
        </latex-code>
        The fact that that the lines do not intersect means that the system of equations has no solution.  Of course, this is easy to see algebraically: if <m>x-3y=-3</m>, then it is cannot also be the case that <m>x-3y=3</m>.
      </p>

      <p>
        There is one more possibility.  Consider the system of equations
        <me>\def\r{\color{seq-violet}}\def\b{\color{seq-green}}
        \syseq{\r x \r- \r3y \r= \r-3; \b2x \b- \b6y \b= \b-6\rlap.}</me>
        The second equation is a multiple of the first, so these equations define the <em>same</em> line in the plane.
        <latex-code>
          <![CDATA[
  \begin{tikzpicture}[scale=.2]
    \draw[grid lines] (-20,-20) rectangle (20,20);
    \clip (-20,-20) rectangle (20,20);
    \draw[->] (-20,0) -- (20,0);
    \draw[->] (0,-20) -- (0,20);
    \draw[seq-green, double=seq-violet!50, double distance=1pt, thick] (-20,-20/3+1) -- (20,20/3+1);
  \end{tikzpicture}
          ]]>
        </latex-code>
        In this case, there are infinitely many solutions of the system of equations.
      </p>
    </specialcase>

    <specialcase hide-type="true">
      <title>Two Equations in Three Variables</title>

      <p>
        Consider the system of two linear equations
        <me>\def\r{\color{seq-violet}}\def\b{\color{seq-green}}
        \syseq{\r x \r+ \r y \r+ \r z \r= \r1; \b x \+ \. \b- \b z \b= \b0\rlap.}</me>
        Each equation individually defines a plane in space.  The solutions of the system of both equations are the points that lie on both planes.  We can see in the picture below that the planes intersect in a line.  In particular, this system has infinitely many solutions.
      </p>

      <figure>
        <caption>The planes defined by the equations <m>\color{seq-violet}x+y+z=1</m> and <m>\color{seq-green}x-z=0</m> intersect in the red line, which is the solution set of the system of both equations.</caption>
        <mathbox source="demos/planes.html" height="400px"/>
      </figure>
    </specialcase>

    <remark>
      <p>
        In general, the solutions of a system of equations in <m>n</m> variables is the intersection of <q><m>(n-1)</m>-planes</q> in <m>n</m>-space.  This is always some kind of linear space, as we will discuss in <xref ref="solution-sets"/>.
      </p>
    </remark>

  </subsection>


  <subsection>
    <title>The Elimination Method</title>
    <idx><h>Elimination method</h></idx>

    <p>We will solve systems of linear equations algebraically using the <term>elimination</term> method.  In other words, we will combine the equations in various ways to try to eliminate as many variables as possible from each equation.  There are three valid operations we can perform on our system of equations:
    <ul>
      <li><alert>Scaling:</alert> we can multiply both sides of an equation by a nonzero number.
      <me>
        \syseq{x + 2y + 3z = 6;
        2x - 3y + 2z = 14;
        3x + y - z = -2
        } \quad\xrightarrow{\text{multiply 1st by $-3$}}\quad
        \syseq{-3x - 6y - 9z = -18;
        2x - 3y + 2z = 14;
        3x + y - z = -2
        }
      </me>
      </li>
      <li><alert>Replacement:</alert> we can add a multiple of one equation to another, replacing the second equation with the result.
      <me>
        \syseq{x + 2y + 3z = 6;
        2x - 3y + 2z = 14;
        3x + y - z = -2
        } \quad\xrightarrow{\text{2nd ${}={}$ 2nd$-2\times$1st}}\quad
        \syseq{x + 2y + 3z = 6;
        \. \+ -7y - 4z = 2;
        3x + y - z = -2
        }
      </me>
      </li>
      <li><alert>Swap:</alert> we can swap two equations.
      <me>
        \syseq{x + 2y + 3z = 6;
        2x - 3y + 2z = 14;
        3x + y - z = -2
        } \quad\xrightarrow{\text{3rd $\longleftrightarrow$ 1st}}\quad
        \syseq{3x + y - z = -2;
        2x - 3y + 2z = 14;
        x + 2y + 3z = 6
        }
      </me>
      </li>
    </ul>
    </p>

    <example xml:id="systems-eqns-example1">
      <statement>
        <p>Solve <xref ref="systems-eqns-example"/> using the elimination method.</p>
      </statement>
      <solution>
        <p><me>
          \begin{split}
          \syseq{x + 2y + 3z = 6;
          2x - 3y + 2z = 14;
          3x + y - z = -2
          }
          \quad\xrightarrow{\text{2nd ${}={}$ 2nd$-2\times$1st}}\quad&amp;
          \syseq{x + 2y + 3z = 6;
          \. \+ -7y - 4z = 2;
          3x + y - z = -2
          } \\
          {}\quad\xrightarrow{\text{3rd ${}={}$ 3rd$-3\times$1st}}\quad&amp;
          \syseq{x + 2y + 3z = 6;
          \. \+ -7y - 4z = 2;
          \. \+ -5y - 10z = -20
          } \\
          {}\quad\xrightarrow{\text{2nd $\longleftrightarrow$ 3rd}}\quad&amp;
          \syseq{x + 2y + 3z = 6;
          \. \+ -5y - 10z = -20;
          \. \+ -7y - 4z = 2
          } \\
          {}\quad\xrightarrow{\text{divide 2nd by $-5$}}\quad&amp;
          \syseq{x + 2y + 3z = 6;
          \. \+  y + 2z = 4;
          \. \+ -7y - 4z = 2
          } \\
          {}\quad\xrightarrow{\text{3rd ${}={}$ 3rd$+7\times$2nd}}\quad&amp;
          \syseq{x + 2y + 3z = 6;
          \. \+  y + 2z = 4;
          \. \+ \. \+ 10z = 30
          }
          \end{split}
        </me>
      At this point we<rsq/>ve eliminated both <m>x</m> and <m>y</m> from the third equation, and we can solve <m>10z=30</m> to get <m>z=3</m>.  Substituting for <m>z</m> in the second equation gives <m>y+2\cdot3=4</m>, or <m>y=-2</m>.  Substituting for <m>y</m> and <m>z</m> in the first equation gives <m>x + 2\cdot(-2) + 3\cdot3 = 6</m>, or <m>x=3</m>.  Thus the only solution is <m>(x,y,z)=(1,-2,3)</m>.
      </p>

      <p>We can check that our solution is correct by substituting <m>(x,y,z)=(1,-2,3)</m> into the original equation:
      <me>
        \syseq{x + 2y + 3z = 6;
        2x - 3y + 2z = 14;
        3x + y - z = -2
        }
        \quad\xrightarrow{\text{substitute}}\quad
        \syseq{
        1 + 2\cdot(-2) + 3\cdot 3 = 6;
        2\cdot 1 - 3\cdot(-2) + 2\cdot 3 = 14;
        3\cdot 1 + (-2) - 3 = -2\rlap.
        }
      </me>
      </p>
      </solution>
    </example>

    <paragraphs><title>Augmented Matrices and Row Operations</title>
    <p>Solving equations by elimination requires writing the variables <m>x,y,z</m> and the equals sign <m>=</m> over and over again, merely as placeholders: all that is changing in the equations is the coefficient <em>numbers</em>.  We can make our life easier by extracting only the numbers, and putting them in a box:
    <idx><h>Augmented matrix</h><see>Matrix</see></idx>
    <me>
      \syseq{x + 2y + 3z = 6;
      2x - 3y + 2z = 14;
      3x + y - z = -2
      }
      \quad\xrightarrow{\text{becomes}}\quad
      \amat{
      1  2  3  6 ;
      2  -3  2  14;
      3  1  -1  -2
      }.
    </me>
    <idx><h>Matrix</h><h>definition of</h></idx>
    <idx><h>Matrix</h><h>augmented</h></idx>
    This is called an <term>augmented matrix</term>.  The word <q>augmented</q> refers to the vertical line, which we draw to remind ourselves where the equals sign belongs; a <term>matrix</term> is a grid of numbers without the vertical line.  In this notation, our three valid ways of manipulating our equations become <term>row operations</term>:
    <idx><h>Row operations</h></idx>
    <ul>
      <li><alert>Scaling:</alert> multiply all entries in a row by a nonzero number.
      <idx><h>Row operations</h><h>scaling</h></idx>
      <me>
        \amat{
        1  2  3  6 ;
        2  -3  2  14;
        3  1  -1  -2
        }
        \quad\xrightarrow{R_1 = R_1 \times -3}\quad
        \amat{
        -3  -6  -9  -18 ;
        2  -3  2  14;
        3  1  -1  -2
        }
      </me>
      Here the notation <m>R_1</m> simply means <q>the first row</q>, and likewise for <m>R_2,R_3,</m> etc.
      <notation><usage>R_i</usage><description>Row <m>i</m> of a matrix</description></notation>
      </li>
      <li><alert>Replacement:</alert> add a multiple of one row to another, replacing the second row with the result.
      <idx><h>Row operations</h><h>replacement</h></idx>
      <idx><h>Row replacement</h><see>Row operations, replacement</see></idx>
      <me>
        \amat{
        1  2  3  6 ;
        2  -3  2  14;
        3  1  -1  -2
        }
        \quad\xrightarrow{R_2 = R_2 -2\times R_1}\quad
        \amat{
        1  2  3  6 ;
        0 -7 -4 2;
        3  1  -1  -2
        }
      </me>
      </li>
      <li><alert>Swap:</alert> interchange two rows.
      <idx><h>Row operations</h><h>swap</h></idx>
      <me>
        \amat{
        1  2  3  6 ;
        2  -3  2  14;
        3  1  -1  -2
        }
        \quad\xrightarrow{R_1 \longleftrightarrow R_3}\quad
        \amat{
        3  1  -1  -2;
        2  -3  2  14;
        1  2  3  6
        }
      </me>
      </li>
    </ul>
    </p>

    <example>
      <statement>
        <p>Solve <xref ref="systems-eqns-example"/> using row operations.</p>
      </statement>
      <solution>
        <p>
        We start by forming an augmented matrix:
        <me>
          \syseq{x + 2y + 3z = 6;
          2x - 3y + 2z = 14;
          3x + y - z = -2
          }
          \quad\xrightarrow{\text{becomes}}\quad
          \amat{
          1  2  3  6 ;
          2  -3  2  14;
          3  1  -1  -2
          }.
        </me>
        Eliminating a variable from an equation means producing a zero to the left of the line in an augmented matrix.  First we produce zeros in the first column (i.e. we eliminate <m>x</m>) by subtracting multiples of the first row.
        <me>\def\r{\color{red}}
          \begin{split}
          \amat{
          1  2  3  6 ;
          2  -3  2  14;
          3  1  -1  -2
          }
          \quad\xrightarrow{R_2=R_2-2R_1}\quad&amp;
          \amat{
          1  2  3  6 ;
          \r0 -7 -4 2 ;
          3  1  -1  -2
          } \\
          {}\quad\xrightarrow{R_3=R_3-3R_1}\quad&amp;
          \amat{
          1  2  3  6 ;
          0 -7 -4 2 ;
          \r0 -5 -10 -20
          }
          \end{split}
        </me>
        This was made much easier by the fact that the top-left entry is equal to <m>1</m>, so we can simply multiply the first row by the number below and subtract.  In order to eliminate <m>y</m> in the same way, we would like to produce a <m>1</m> in the second column.  We could divide the second row by <m>-7</m>, but this would produce fractions; instead, let<rsq/>s divide the third by <m>-5</m>.
        <me>\def\r{\color{red}}
          \begin{split}
          \amat{
          1  2  3  6 ;
          0 -7 -4 2 ;
          0 -5 -10 -20
          }
          \quad\xrightarrow{R_3=R_3\div-5}\quad&amp;
          \amat{
          1  2  3  6 ;
          0 -7 -4 2 ;
          0 \r1 2 4
          } \\
          {}\quad\xrightarrow{R_2\longleftrightarrow R_3}\quad&amp;
          \amat{
          1  2  3  6 ;
          0 1 2 4 ;
          0 -7 -4 2
          } \\
          {}\quad\xrightarrow{R_2\longleftrightarrow R_3}\quad&amp;
          \amat{
          1  2  3  6 ;
          0 1 2 4 ;
          0 \r0 10 30
          } \\
          {}\quad\xrightarrow{R_3 = R_3\div 10}\quad&amp;
          \amat{
          1  2  3  6 ;
          0 1 2 4 ;
          0 0 \r1 3
          }
          \end{split}
        </me>
        We swapped the second and third row just to keep things orderly.  Now we translate this augmented matrix back into a system of equations:
        <me>
          \amat{
          1  2  3  6 ;
          0 1 2 4 ;
          0 0 1 3
          } \quad\xrightarrow{\text{becomes}}\quad
          \syseq{
          x + 2y + 3z = 6;
          \. \+ y + 2z = 4;
          \. \+ \. \+ z = 3}
        </me>
        Hence <m>z=3</m>; back-substituting as in this <xref ref="systems-eqns-example1"/> gives <m>(x,y,z)=(1,-2,3)</m>.
        </p>
      </solution>
    </example>

    <bluebox><p>The process of doing row operations to a matrix does not change the solution set of the corresponding linear equations!</p></bluebox>

    <p>Indeed, the whole point of doing these operations is to solve the equations using the elimination method.</p>

    <definition>
      <idx><h>Row equivalence</h></idx>
      <statement>
        <p>Two matrices are called <term>row equivalent</term> if one can be obtained from the other by doing some number of row operations.</p>
      </statement>
    </definition>

    <p>So the linear equations of row-equivalent matrices have the <em>same solution set</em>.</p>

    <example>
      <title>An Inconsistent System</title>
      <statement>
      <p>
        Solve the following system of equations using row operations:
        <me>
          \syseq{x + y = 2;
          3x + 4y = 5;
          4x + 5y = 9
          }
        </me>
      </p>
      </statement>
      <solution>
        <p>
          First we put our system of equations into an augmented matrix.
          <me>
            \syseq{x + y = 2;
            3x + 4y = 5;
            4x + 5y = 9
            }
            \quad\xrightarrow{\text{augmented matrix}}\quad
            \amat{1 1 2; 3 4 5; 4 5 9}
          </me>
          We clear the entries below the top-left using row replacement.
          <me>\def\r{\color{red}}
            \begin{split}
            \amat{1 1 2; 3 4 5; 4 5 9}
            \quad\xrightarrow{R_2=R_2-3R_1}\quad&amp;
            \amat{1 1 2; \r0 1 -1; 4 5 9} \\
            {}\quad\xrightarrow{R_3=R_3-4R_1}\quad&amp;
            \amat{1 1 2; 0 1 -1; \r0 1 1}
            \end{split}
          </me>
          Now we clear the second entry from the last row.
          <me>\def\r{\color{red}}
            \amat{1 1 2; 0 1 -1; 0 1 1}
            \quad\xrightarrow{R_3=R_3-R_2}\quad
            \amat{1 1 2; 0 1 -1; 0 \r0 2}
          </me>
          This translates back into the system of equations
          <me>
            \syseq{x + y = 2; \. \+ y = -1; \. \+ 0 = 2\rlap.}
          </me>
          Our original system has the same solution set as this system.  But this system has no solutions: there are no values of <m>x,y</m> making the third equation true!  We conclude that our original equation has no solutions either.
        </p>
      </solution>
    </example>

    <definition>
      <idx><h>System of linear equations</h><h>inconsistent</h></idx>
      <idx><h>System of linear equations</h><h>consistent</h></idx>
      <idx><h>Consistent</h><see>System of linear equations</see></idx>
      <idx><h>Inconsistent</h><see>System of linear equations</see></idx>
      <statement>
        <p>A system of equations is called <term>inconsistent</term> if it has no solutions.  It is called <term>consistent</term> otherwise.</p>
      </statement>
    </definition>

  </paragraphs>

  </subsection>

</section>
